{
    "comic_number": 1728,
    "explanation": "{{comic\n| number    = 1728\n| date      = September 2, 2016\n| title     = Cron Mail\n| image     = cron_mail.png\n| titletext = Take THAT, piece of 1980s-era infrastructure I've inexplicably maintained on my systems for 15 years despite never really learning how it works.\n}}\n\n==Explanation==\nOn {{W|Unix}}-like systems, {{W|Cron|cron}} is a system utility that runs tasks on a schedule.  This program has been around since the early days of Unix and has not changed much - it is still one of the most widely used functions in modern operating systems.  Many administrative tasks on servers are automated using cron, including monitoring and updates.\n\nWhen a cron job produces output, cron's default behavior is to send an email to the user account under which the job ran.  However, in most situations, an email address has not been set up for that user, so the email is instead written to a mailbox file.  Most Unix shells will notify the user with a message like \"You have new mail\" when this mailbox file is updated, but if the user doesn't know how to check this mail file, they will likely just ignore the message.\n\nIn this case, Cueball has been ignoring his mailbox for fifteen years.  When he finally learns where to look, he discovers more than a gigabyte worth of messages from the cron program, the vast majority of which are likely meaningless.  Ponytail says to Cueball \"fix your cron\" (likely meaning he should fix the task that's generating the output so that it doesn't do so), then set a parameter that tells cron to send email to an address he actually checks.  (He could also opt to direct the mails to <code>/dev/null</code>, which would discard them, or simply disable the mail in the crontab.)  Cueball, however, interprets the tremendous amount of email as spam and decides to redirect the emails to <code>/etc/crontab</code>, the main configuration file that contains all of cron's scheduling information.  He apparently believes that this will either stop the emails or cause cron to spam itself instead.\n\nIn reality, this will not cause significant problems as the <code>MAILTO</code> environmental variable in cron takes an email address or usernames on the local system and attempts to send emails to them.  It will not write or append output to a local file like <code>/etc/crontab</code>.  Thus when cron attempts to email <code>/etc/crontab</code> the mail program cron uses will generate an error saying it can't find the user <code>/etc/crontab</code>. \n\nFor example, if you create the following crontab:\n\n<pre>\nMAILTO=/etc/crontab\n\n* * * * * echo \"Some output from a cronjob\"\n</pre>\n\ninstalled on a user named <code>me</code> on a system called <code>mycomputer</code> then you will see a new error messages email to you (located in <code>/var/mail/me</code>) stating it can't send email to a user named <code>/etc/crontab</code> and the undelivered email is being returned to the sender.  The error email will look like the following: \n\n<pre>\nFrom MAILER-DAEMON  Tue Sep  6 14:47:01 2016\nReturn-Path: <>\nX-Original-To: me@mycomputer.local\nDelivered-To: me@mycomputer.local\nReceived: by mycomputer.local (Postfix)\n        id 5341C64EE516; Tue,  6 Sep 2016 14:47:01 -0400 (EDT)\nDate: Tue,  6 Sep 2016 14:47:01 -0400 (EDT)\nFrom: MAILER-DAEMON@mycomputer.local (Mail Delivery System)\nSubject: Undelivered Mail Returned to Sender\nTo: me@mycomputer.local\nAuto-Submitted: auto-replied\nMIME-Version: 1.0\nContent-Type: multipart/report; report-type=delivery-status;\n        boundary=\"33AF864EE514.1473187621/mycomputer.local\"\nMessage-Id: <20160906184701.5341C64EE516@mycomputer.local>\n\nThis is a MIME-encapsulated message.\n\n--33AF864EE514.1473187621/mycomputer.local\nContent-Description: Notification\nContent-Type: text/plain; charset=us-ascii\n\nThis is the mail system at host mycomputer.local.\n\nI'm sorry to have to inform you that your message could not\nbe delivered to one or more recipients. It's attached below.\n\nFor further assistance, please send mail to postmaster.\n\nIf you do so, please include this problem report. You can\ndelete your own text from the attached returned message.\n\n                   The mail system\n\n</etc/crontab@mycomputer.local> (expanded from </etc/crontab>): unknown user:\n    \"/etc/crontab\"\n\n--33AF864EE514.1473187621/mycomputer.local\nContent-Description: Delivery report\nContent-Type: message/delivery-status\n\nReporting-MTA: dns; mycomputer.local\nX-Postfix-Queue-ID: 33AF864EE514\nX-Postfix-Sender: rfc822; me@mycomputer.local\nArrival-Date: Tue,  6 Sep 2016 14:47:00 -0400 (EDT)\n\nFinal-Recipient: rfc822; /etc/crontab@mycomputer.local\nOriginal-Recipient: rfc822; /etc/crontab\nAction: failed\nStatus: 5.1.1\nDiagnostic-Code: X-Postfix; unknown user: \"/etc/crontab\"\n\n--33AF864EE514.1473187621/mycomputer.local\nContent-Description: Undelivered Message\nContent-Type: message/rfc822\n\nReturn-Path: <me@mycomputer.local>\nReceived: by mycomputer.local (Postfix, from userid 501)\n        id 33AF864EE514; Tue,  6 Sep 2016 14:47:00 -0400 (EDT)\nFrom: me@mycomputer.local (Cron Daemon)\nTo: /etc/crontab@mycomputer.local\nSubject: Cron <me@mycomputer> echo \"Some output from a cronjob\"\nX-Cron-Env: <MAILTO=/etc/crontab>\nX-Cron-Env: <SHELL=/bin/sh>\nX-Cron-Env: <PATH=/usr/bin:/bin>\nX-Cron-Env: <LOGNAME=me>\nX-Cron-Env: <USER=me>\nX-Cron-Env: <HOME=/Users/me>\nMessage-Id: <20160906184701.33AF864EE514@mycomputer.local>\nDate: Tue,  6 Sep 2016 14:47:00 -0400 (EDT)\n\nSome output from a cronjob\n\n--33AF864EE514.1473187621/mycomputer.local--\n</pre>\n\n\nThe title text shows that Cueball is somewhat aware of what cron does, including the fact that it's existed pretty much unchanged for several decades, but he hasn't bothered to really get into understanding it, treating it more as a foe to vanquish rather than as a tool to understand and use.\n\n==Transcript==\n:[Cueball is sitting at a table in an office chair working on his laptop. Ponytail walks up to him.]\n:Cueball: I've been getting these \"You have new mail\" UNIX notifications for like 15 years, but I've never bothered to figure out what it's talking about.\n\n:[Ponytail has stopped behind Cueball who is typing on his laptop. When Ponytail (and later Cueball) mentions code, the text uses both small and capital letters (as opposed to only capital letters in all other text).]\n:Ponytail: Look in /var/mail?\n:Cueball: OK...\n:Cueball: Oh, wow, there's like a gigabyte of stuff from Cron in here.\n\n:[In a frame-less panel Ponytail is facepalming. Cueball is replying from off-panel with a starburst indicating his position.]\n:Ponytail: *Sigh*\n:Ponytail: You should fix your Cron, then point \"MAILTO=\" somewhere you actually see-\n:Cueball (off-panel): Better idea:\n\n:[Same setting as panel 2 but Cueball is visibly typing on the laptop as shown with three small curved lines over his hands on the keyboard.]\n:Cueball: export MAILTO=/etc/crontab\n:Cueball: There. Your move, Cron.\n:Ponytail: Wow. Hardball.\n:Cueball: Let's see how important it thinks that mail really is.\n\n{{comic discussion}}\n\n[[Category:Comics featuring Ponytail]]\n[[Category:Comics featuring Cueball]]\n[[Category:Computers]]"
}